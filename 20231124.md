# 进度
## 1.EasyAr项目未开始
## 2.P2P音视频通讯
### 了解其原理 webRTC & webSocket
### 原理：双方通过webRTC提供的一系列API获取各自的媒体信息SDP和网络信息candidate，并通过信令服务器进行媒体协商以及网络协商，从而交换双方所需信息，进而建立两端的连接通道完成通讯
#### 细节：
    实现P2P 1v1通信需解决的三个方面问题：如何发现对方？选择双方都会的沟通方式？如何联系上对方？
    1.如何发现对方？
      想要发现对方，最直观简单的就是将双方聚集在一个“房间”，这样就可以很简单的发现到了对方。
      在一个P2P通信中，就需要一个“房间”——信令服务器。在信令服务器中，通讯双方就可交换各自的元数据（比如媒体信息、网络数据等），这个交换过程也就是信令。
      同时，信令服务器也可以管理房间内的所有信息。（可以通过websocket来搭建一个信令服务器）
    2.选择双方都会的沟通方式？
      因为不同浏览器对音视频的编解码能力是不同的，所以为了保证双方都可以正确的理解到对方的媒体信息，需要寻找一个双方浏览器都支持的媒体格式。
      在webRTC中，SDP协议（Session Description Protocol）就可以用来描述这类媒体信息。双方交换SDP信息的过程，也被成为媒体协商。
    3.如何联系上对方？
      在互联网中，想要联系对方，那就必须通过网络了。所以这个联系过程就是网络协商。
      理想的网络情况是每个客户端都有自己的私有公网IP，这样就可以直接进行点对点连接。但实际的网络情况由于网络安全等原因，大多数客户端之间都是在某个局域网内，需要网络地址转换(NAT)，所以在webRTC中，需要使用ICE机制建立网络连接。
      ICE协议是通过一系列的技术（如STUN、TURN服务器）来帮助通信双方发现和协商可用的公共网络地址，从而解决局域网需要NAT的问题（webRTC中网络信息通常用candidate来描述）。
        ICE工作原理：
          ①双方收集本地网络地址（私有地址和公共地址）以及通过STUN和TURN服务器获取的可用候选地址
          ②双方通过信令服务器交换可用候选地址
          ③双方使用这些可用候选地址进行连接测试，确定最佳的可用地址
          ④找到后，即可通信
        
    媒体协商过程：
      1.呼叫端创建offer，并将offer信息（内容是呼叫端的SDP信息）通过信令服务器传送给接收端，同时调用setLocalDescription将含有本地SDP信息的offer保存起来
      2.接收端接收到呼叫端的offer后，调用setRemoteDescription将对端的offer信息保存，并创建answer将answer(包含接收端的SDP信息)通过信令服务器传送给呼叫端
      3.呼叫端接收到answer信息调用setRemoteDescription方法

    网络协商过程：
      在媒体协商中各端调用setLocalDescription的同时，就开始收集各自的candidate，然后各端通过监听事件onicecandidate，收集到各自的candidate并通过信令服务器传送到对端，进而连接P2P的网络通道，并通过监听onaddstream事件拿到对方音视频流完成通话过程
