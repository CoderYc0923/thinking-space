# 执行上下文就是当前JS代码被解析和执行时所在的环境，也叫做执行环境

## 执行上下文分为全局执行上下文、函数执行上下文、eval执行上下文

## 执行上下文的生命周期
执行上下文分为三个阶段： 创建阶段、执行阶段、回收阶段

### 创建阶段
在创建阶段，会创建变量对象、创建作用域链、创建this

### 执行阶段
执行代码，完成变量赋值、函数引用等

### 回收阶段
函数出栈，对应的执行上下文也出栈，等待垃圾回收器回收

## 执行上下文运行过程解析
代码开始执行，首先会创建一个全局执行上下文，调用函数时，会产生函数执行上下文。
函数执行完毕后，它的执行上下文以及其中的数据就会被销毁，重新回到全局执行上下文环境中，网页关闭，全局执行上下文也会被销毁
这其实是一个出入栈的过程，全局执行上下文永远在栈底，而当前正在执行的函数执行上下文在栈顶

## 引申：变量对象

变量对象在执行上下文创建阶段被创建
变量对象的创建过程：
  1.建立arguments对象，检查当前执行上下文中的参数，建立该对象下的属性与属性值
  2.检查当前执行上下文中的函数申明，在变量对象中以函数名建立一个属性，属性值为指向该函数内存地址的引用，若之前已存在，则覆盖
  3.检查当前执行上下文中的变量申明，在变量对象中以变量名建立一个属性，属性值为undefined，若之前已存在，则跳过

#### 当执行上下文进入执行阶段后，变量对象会变为活动对象（Active Object，AO）。此时原先声明的变量会被赋值。变量对象和活动对象都是指同一个对象，只是处于执行上下文的不同阶段。
未进入执行上下文的执行阶段之前，变量对象中的属性都不能访问。但是进入执行阶段之后，变量对象转变为了活动对象（被激活了），里面的属性可以被访问了，然后开始进行执行阶段的操作。

